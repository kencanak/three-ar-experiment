<html>
  <title></title>
  <head></head>
  <body>

  </body>
  <script src="/bower_components/threejs/build/three.js"></script>
  <script src="/bower_components/threejs/examples/js/controls/VRControls.js"></script>
  <script src="/bower_components/threejs/examples/js/objects/ShadowMesh.js"></script>
  <script src="/bower_components/threejs/examples/js/loaders/OBJLoader.js"></script>
  <script src="/bower_components/threejs/examples/js/loaders/MTLLoader.js"></script>

  <script>
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
    var renderer = new THREE.WebGLRenderer({ antialias: true });
    //var gui = new dat.GUI();
    scene.add(new THREE.AmbientLight('#aaaaaa'));
    camera.position.set(0, 0, 10);

    var light = new THREE.DirectionalLight(0x888888);
    light.position.set(40, -100, 0);
    scene.add(light);

    // instantiate a loader
    var loader = new THREE.OBJLoader();

    // load a resource
    loader.load(
      // resource URL
      './3D_objects/bin_model.obj',
      // called when resource is loaded
      function ( object ) {

        scene.add( object );

      },
      // called when loading is in progresses
      function ( xhr ) {

        console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );

      },
      // called when loading has errors
      function ( error ) {

        console.log( 'An error happened' );

      }
    );

    document.body.appendChild(renderer.domElement);

    var step = 0;
    var render = function() {
      window.requestAnimationFrame(render);

      step += 0.01;

      scene.traverse(function(child) {
        if(child instanceof THREE.Mesh) {
          child.rotation.y += 0.02;
          child.rotation.x += 0.01;
        }
      });

      renderer.render(scene, camera);

    };

    var resize = function() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    };
    window.addEventListener('resize', resize);

    resize();
    render();
  </script>
</html>